/* public/css/topbar.css
   Topbar atualizada para ficar sempre acima da sidebar e overlays.
*/

:root{
  --topbar-h: 64px;
  --topbar-z: 1800; /* mais alto para garantir prioridade sobre sidebar/overlay */
  --glass: rgba(255,255,255,0.03);
  --accent: var(--accent, #6ee7b7);
  --topbar-radius: 12px;
  --topbar-elev: 0 10px 30px rgba(12,18,26,0.08);
  --btn-size: 44px;
}

/* Base: topbar sempre fixa no topo */
.topbar {
  height: var(--topbar-h);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 18px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  border-bottom: 1px solid rgba(255,255,255,0.03);
  backdrop-filter: blur(6px);
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  z-index: var(--topbar-z);
  transition: background 200ms ease, box-shadow 200ms ease, transform 180ms ease;
}

/* Elevated state */
.topbar--elevated { box-shadow: var(--topbar-elev); }

/* Desktop: manter topbar fixa no topo; não adicionar margin-top */
@media (min-width: 992px) {
  .topbar {
    border-radius: var(--topbar-radius);
    margin-left: 16px;
    margin-right: 16px;
    /* não usar margin-top para evitar deslocamento vertical */
  }
}

/* Left group (hamburger + brand) */
.topbar .left { display:flex; align-items:center; gap:14px; }
.topbar .brand { display:flex; align-items:center; gap:12px; }
.topbar .brand .logo { width:42px; height:42px; border-radius:10px; background:var(--glass); display:inline-block; }

/* Actions group */
.topbar .actions { display:flex; align-items:center; gap:12px; }

/* Buttons */
.topbar-hamburger,
#btn-theme-toggle,
#btn-logout {
  width: var(--btn-size);
  height: var(--btn-size);
  border-radius: 10px;
  border: 0;
  background: transparent;
  cursor: pointer;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  transition: background .12s ease, transform .08s ease, box-shadow .12s ease;
}

.topbar-hamburger:hover,
#btn-theme-toggle:hover,
#btn-logout:hover {
  background: rgba(255,255,255,0.02);
  transform: translateY(-1px);
}

/* Theme button slightly outlined for visibility */
#btn-theme-toggle {
  width: var(--btn-size);
  height: var(--btn-size);
  border:1px solid rgba(255,255,255,0.03);
  padding:0;
}

/* Logout button uses pill style on wider screens */
#btn-logout {
  padding:8px 12px;
  border-radius:8px;
  background: transparent;
  border:1px solid rgba(255,255,255,0.02);
  min-width: 56px;
}

/* User email */
#topbar-user-email {
  font-size:13px;
  color:var(--muted);
  max-width:220px;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

/* Responsive behavior */
@media (max-width:820px) {
  .topbar { height:56px; padding:0 12px; }
  .topbar .brand .title { display:none; }
  #topbar-user-email { display:none; }
  #btn-logout { display:none; } /* keep actions compact on small screens */
}

/* Focus outlines for accessibility */
.topbar button:focus,
.topbar [role="button"]:focus {
  outline: 3px solid color-mix(in srgb, var(--accent) 30%, transparent);
  outline-offset:2px;
}

/* Ensure topbar sits visually above overlays and modal-like elements */
.topbar, .topbar * { color: var(--text); z-index: inherit; position: relative; }

/* Ensure sufficient hit target on mobile */
@media (max-width:520px) {
  :root { --btn-size: 40px; }
  #btn-logout { display:none; }
}

/* When topbar theme toggle is "pressed", reflect state */
#btn-theme-toggle[aria-pressed="true"] { box-shadow: 0 6px 18px rgba(0,0,0,0.08); }

/* Small badge placeholder */
.topbar .badge {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:18px;
  height:18px;
  border-radius:9px;
  background:var(--accent);
  color:var(--card);
  font-size:11px;
  padding:0 6px;
  margin-left:6px;
}
